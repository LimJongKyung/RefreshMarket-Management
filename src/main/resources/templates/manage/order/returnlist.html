<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" class="h-100" data-bs-theme="auto" >
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<th:block th:insert="~{template/fragments/block :: config}"></th:block>
<link href="/css/orderCSS/returnlist.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
</head>
<body>
	<th:block th:insert="~{template/fragments/block :: header}"></th:block>
	<th:block th:insert="~{template/fragments/block :: logo}"></th:block>
    <th:block th:insert="~{template/fragments/block :: mainMenu}"></th:block>
    <div class="layout-container">
    <th:block th:insert="~{template/fragments/block :: sideMenu}"></th:block>
	    <main class="return-list">
		    <h2>π“¦ λ°ν’ μ”μ²­ λ©λ΅</h2>

			<form th:action="@{/orders/returns}" method="get">
			    <input type="text" name="keyword" th:value="${keyword}" placeholder="κ²€μƒ‰μ–΄ μ…λ ¥">
			    <button type="submit">κ²€μƒ‰</button>
			</form>
			
			<table>
			    <thead>
			        <tr>
			            <th>ID</th><th>μ£Όλ¬ΈID</th><th>νμ›ID</th><th>μƒν’ID</th>
			            <th>μ‚¬μ μ ν•</th><th>μ”μ²­μΌ</th><th>λ°ν’ ν„ν™©</th><th>λ¶κ°€ μ‚¬μ </th>
			        </tr>
			    </thead>
			    <tbody>
			        <tr th:each="r : ${returns}">
			            <td>
						    <a th:href="@{/orders/return/{id}(id=${r.returnId})}" th:text="${r.returnId}">1</a>
						</td>
			            <td th:text="${r.orderId}">1001</td>
			            <td th:text="${r.memberId}">user01</td>
			            <td th:text="${r.productId}">P123</td>
			            <td th:text="${r.reasonType}">λ‹¨μλ³€μ‹¬</td>
			            <td>
						    <span th:text="${#temporals.format(r.requestDate, 'yyyy-MM-dd')}">2025-08-30</span>
						    
						    <span th:if="${#temporals.format(r.requestDate, 'yyyy-MM-dd') == #temporals.format(T(java.time.LocalDate).now(), 'yyyy-MM-dd')}"
						          style="color: red; font-weight: bold; margin-left: 5px;">π†•</span>
						</td>
			            <td th:text="${r.status}">λ°ν’μ ‘μ</td>
			            <td th:text="${r.rejectReason != null ? r.rejectReason : '-'}">-</td>
			        </tr>
			    </tbody>
			</table>
			
			<div class="pagination">
			    <span th:if="${page.hasPrevious()}">
			        <a th:href="@{/orders/return(page=${page.number - 1}, keyword=${keyword})}">μ΄μ „</a>
			    </span>
			
			    <span>νμ΄μ§€ [[${page.number + 1}]] / [[${page.totalPages}]]</span>
			
			    <span th:if="${page.hasNext()}">
			        <a th:href="@{/orders/return(page=${page.number + 1}, keyword=${keyword})}">λ‹¤μ</a>
			    </span>
			</div>
		</main>
	 </div>
	<th:block th:insert="~{template/fragments/block :: footer}"></th:block>
</body>
</html>